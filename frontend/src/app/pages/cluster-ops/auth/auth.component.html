<div class="row">
  <div class="col-12">
    <nb-card>
      <nb-card-header>
        <div class="d-flex justify-content-between align-items-center">
          <h5>权限管控</h5>
        </div>
      </nb-card-header>

      <nb-card-body>
        <nb-tabset
          [activeTabId]="activeTabIndex"
          (changeTab)="onTabChange($event.tabId)"
          responsive="true"
          fullWidth="true"
        >
          <!-- Tab 1: 我的申请 -->
          <nb-tab tabTitle="我的申请" tabId="0">
            <ng-template nbTabContent>
              <ngx-my-requests
                (submitted)="onRequestSubmitted()"
                [refresh$]="refreshMyRequests$"
              ></ngx-my-requests>
            </ng-template>
          </nb-tab>

          <!-- Tab 2: 待我审批 -->
          <nb-tab tabTitle="待我审批" tabId="1">
            <ng-template nbTabContent>
              <ngx-pending-approvals
                (processed)="onRequestProcessed()"
                [refresh$]="refreshPendingApprovals$"
              ></ngx-pending-approvals>
            </ng-template>
          </nb-tab>

          <!-- Tab 3: 账户列表 -->
          <nb-tab tabTitle="账户列表" tabId="2">
            <ng-template nbTabContent>
              <ngx-accounts-list
                [refresh$]="refreshAccounts$"
              ></ngx-accounts-list>
            </ng-template>
          </nb-tab>

          <!-- Tab 4: 角色列表 -->
          <nb-tab tabTitle="角色列表" tabId="3">
            <ng-template nbTabContent>
              <ngx-roles-list
                [refresh$]="refreshRoles$"
              ></ngx-roles-list>
            </ng-template>
          </nb-tab>
        </nb-tabset>
      </nb-card-body>
    </nb-card>
  </div>
</div>
